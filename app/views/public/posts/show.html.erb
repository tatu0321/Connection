<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-sm">
        <!-- 投稿者情報 -->
        <div class="card-header d-flex align-items-center">
          <%= link_to image_tag(@post.user.avatar.attached? ? @post.user.avatar : "no_image.jpg", 
                                class: "rounded-circle me-3", size: "40x40"), 
                      @post.user == current_user ? mypage_path : user_path(@post.user) %>
          <div>
            <h5 class="mb-0">
              <%= link_to @post.user.name, 
                          @post.user == current_user ? mypage_path : user_path(@post.user), 
                          class: "text-decoration-none text-dark" %>
            </h5>
          </div>
        </div>

        <!-- 投稿内容 -->
        <div class="card-body">
          <p class="mb-4"><%= @post.content %></p>
          <small class="text-muted">投稿日: <%= @post.created_at.strftime("%Y-%m-%d %H:%M") %></small>
        </div>

        <% if @post.user == current_user %>
          <!-- 編集・削除ボタン -->
          <div class="card-footer d-flex justify-content-end">
            <%= link_to "編集する", edit_post_path(@post), class: "btn btn-outline-primary me-2 mr-3" %>
            <%= link_to "削除", post_path(@post), 
                        method: :delete, 
                        data: { confirm: "本当に削除しますか？" }, 
                        class: "btn btn-outline-danger" %>
          </div>
        <% end %>
      </div>
      
      <!-- 投稿一覧へ戻るリンク -->
      <div class="mt-3 text-center">
        <%= link_to "投稿一覧へ戻る", posts_path, class: "btn btn-outline-secondary" %>
      </div>
    </div>
  </div>
</div>
